<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIãƒ™ãƒ³ãƒ€ãƒ¼ãƒŠãƒ¬ãƒƒã‚¸ãƒãƒ¼ã‚¿ãƒ«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', sans-serif;
            background-color: #f9fafb;
            height: 100vh;
            overflow: hidden;
        }
        .container {
            display: flex;
            height: 100vh;
        }
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            background-color: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header h1 {
            font-size: 1.5rem;
            color: #111827;
        }
        .logout-btn {
            padding: 0.5rem 1rem;
            background-color: white;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
        }
        .logout-btn:hover {
            background-color: #f9fafb;
        }
        /* å·¦å´: Knowledge Search (60%) */
        .left-panel {
            width: 60%;
            background-color: white;
            border-right: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
        }
        .left-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .left-header h2 {
            font-size: 1.5rem;
            color: #111827;
        }
        .search-area {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .form-group {
            margin-bottom: 1rem;
        }
        .form-group label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        .form-group select,
        .form-group input[type="text"] {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 0.875rem;
        }
        .form-group select:focus,
        .form-group input[type="text"]:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .search-box {
            display: flex;
            gap: 0.5rem;
        }
        .search-box input {
            flex: 1;
        }
        .search-btn {
            padding: 0.5rem 1.5rem;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .search-btn:hover {
            background-color: #1d4ed8;
        }
        .search-btn:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        /* æ¤œç´¢çµæœã‚¨ãƒªã‚¢ */
        .results-area {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #6b7280;
        }
        .empty-state p {
            margin-bottom: 0.5rem;
        }
        .empty-state p:last-child {
            font-size: 0.875rem;
        }
        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
        }
        .spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #2563eb;
            border-radius: 50%;
            width: 3rem;
            height: 3rem;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* ãƒ™ãƒ³ãƒ€ãƒ¼ã‚«ãƒ¼ãƒ‰ */
        .vendor-card {
            background-color: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.25rem;
            margin-bottom: 1rem;
            transition: box-shadow 0.2s;
        }
        .vendor-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .vendor-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.75rem;
        }
        .vendor-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .vendor-title h3 {
            font-size: 1.125rem;
            color: #111827;
        }
        .rank-badge {
            font-size: 1.5rem;
        }
        .score-badge {
            background-color: #dbeafe;
            color: #1e40af;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .vendor-meta {
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }
        .vendor-meta p {
            margin-bottom: 0.5rem;
            color: #374151;
        }
        .vendor-meta .label {
            font-weight: 500;
        }
        .vendor-meta .note {
            color: #6b7280;
            font-size: 0.75rem;
        }
        .vendor-text {
            color: #6b7280;
            font-size: 0.875rem;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .vendor-actions {
            display: flex;
            gap: 0.5rem;
        }
        .vendor-actions button {
            flex: 1;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-detail {
            background-color: white;
            color: #2563eb;
            border: 1px solid #2563eb;
        }
        .btn-detail:hover {
            background-color: #eff6ff;
        }
        .btn-contact {
            background-color: #2563eb;
            color: white;
            border: none;
        }
        .btn-contact:hover {
            background-color: #1d4ed8;
        }
        /* å³å´: ãƒ™ãƒ³ãƒ€ãƒ¼é¸å®šã‚¬ã‚¤ãƒ‰ (40%) */
        .right-panel {
            width: 40%;
            background-color: #f9fafb;
            display: flex;
            flex-direction: column;
        }
        .right-header {
            padding: 1.5rem;
            background-color: white;
            border-bottom: 1px solid #e5e7eb;
        }
        .right-header h2 {
            font-size: 1.25rem;
            color: #111827;
            margin-bottom: 0.25rem;
        }
        .right-header p {
            font-size: 0.875rem;
            color: #6b7280;
        }
        .guide-area {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }
        .question-group {
            margin-bottom: 1.5rem;
        }
        .question-group label.question-label {
            display: block;
            font-weight: 500;
            color: #111827;
            margin-bottom: 0.75rem;
            font-size: 0.9375rem;
        }
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .radio-option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        .radio-option input[type="radio"] {
            width: 1rem;
            height: 1rem;
            margin-right: 0.5rem;
            cursor: pointer;
        }
        .radio-option span {
            font-size: 0.875rem;
            color: #374151;
        }
        .guide-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            padding-top: 1rem;
            border-top: 1px solid #e5e7eb;
        }
        .btn-guided-search {
            width: 100%;
            padding: 0.75rem;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .btn-guided-search:hover {
            background-color: #1d4ed8;
        }
        .btn-guided-search:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .btn-reset {
            width: 100%;
            padding: 0.5rem;
            background-color: white;
            color: #374151;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .btn-reset:hover {
            background-color: #f9fafb;
        }
        /* ã‚¬ã‚¤ãƒ‰æ¤œç´¢çµæœãƒ˜ãƒƒãƒ€ãƒ¼ */
        .guided-header {
            background-color: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        .guided-header h3 {
            color: #111827;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .guided-header ul {
            list-style: none;
            font-size: 0.875rem;
            color: #374151;
        }
        .guided-header li {
            margin-bottom: 0.25rem;
        }
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            .left-panel,
            .right-panel {
                width: 100%;
            }
            .left-panel {
                height: 50vh;
                border-right: none;
                border-bottom: 1px solid #e5e7eb;
            }
            .right-panel {
                height: 50vh;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦å´: Knowledge Search -->
        <div class="left-panel">
            <div class="left-header">
                <h2>ğŸ” Knowledge Search</h2>
            </div>

            <!-- æ¤œç´¢ã‚¨ãƒªã‚¢ -->
            <div class="search-area">
                <div class="form-group">
                    <label>ğŸ¢ ä¼šç¤¾å</label>
                    <select id="companySelect">
                        <option value="">ä¼šç¤¾åã§çµã‚Šè¾¼ã‚€</option>
                        <option value="Akari">Akari</option>
                        <option value="Acrosstudio">Acrosstudio</option>
                        <option value="Araya">Araya</option>
                        <option value="BrainPad">BrainPad</option>
                        <option value="Eriza">Eriza</option>
                        <option value="Fusic">Fusic</option>
                        <option value="LaboroAI">LaboroAI</option>
                        <option value="LiberCraft">LiberCraft</option>
                        <option value="LightBlue">LightBlue</option>
                        <option value="NUCO">NUCO</option>
                        <option value="TANREN">TANREN</option>
                        <option value="Weel">Weel</option>
                        <option value="ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰">ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰</option>
                    </select>
                </div>
                <div class="form-group">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="æ¤œç´¢èªã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...">
                        <button class="search-btn" onclick="handleFreeSearch()">æ¤œç´¢</button>
                    </div>
                </div>
            </div>

            <!-- æ¤œç´¢çµæœã‚¨ãƒªã‚¢ -->
            <div class="results-area" id="resultsArea">
                <div class="empty-state">
                    <p>æ¤œç´¢çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                    <p>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚</p>
                </div>
            </div>
        </div>

        <!-- å³å´: ãƒ™ãƒ³ãƒ€ãƒ¼é¸å®šã‚¬ã‚¤ãƒ‰ -->
        <div class="right-panel">
            <div class="right-header">
                <h2>ğŸ¯ ãƒ™ãƒ³ãƒ€ãƒ¼é¸å®šã‚¬ã‚¤ãƒ‰</h2>
                <p>ã„ãã¤ã‹ã®è³ªå•ã«ç­”ãˆã¦ã€æœ€é©ãªãƒ™ãƒ³ãƒ€ãƒ¼ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†</p>
            </div>

            <div class="guide-area">
                <!-- è³ªå•1: ç›®çš„ -->
                <div class="question-group">
                    <label class="question-label">â“ ã“ã®æ¡ˆä»¶ã®ç›®çš„ã¯ï¼Ÿ</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="purpose" value="æ¥­å‹™åŠ¹ç‡åŒ–">
                            <span>æ¥­å‹™åŠ¹ç‡åŒ–ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="purpose" value="æ–°è¦äº‹æ¥­é–‹ç™º">
                            <span>æ–°è¦äº‹æ¥­ãƒ»ã‚µãƒ¼ãƒ“ã‚¹é–‹ç™º</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="purpose" value="æŠ€è¡“æ¤œè¨¼">
                            <span>æŠ€è¡“æ¤œè¨¼ãƒ»ç ”ç©¶é–‹ç™º</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="purpose" value="äººæè‚²æˆ">
                            <span>äººæè‚²æˆãƒ»å†…è£½åŒ–</span>
                        </label>
                    </div>
                </div>

                <!-- è³ªå•2: äºˆç®— -->
                <div class="question-group">
                    <label class="question-label">â“ äºˆç®—ã¯ï¼Ÿ</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="budget" value="ã€œ300ä¸‡å††">
                            <span>ã€œ300ä¸‡å††</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="budget" value="300-1000ä¸‡å††">
                            <span>300-1000ä¸‡å††</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="budget" value="1000ä¸‡å††ã€œ">
                            <span>1000ä¸‡å††ã€œ</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="budget" value="æœªå®š">
                            <span>æœªå®š</span>
                        </label>
                    </div>
                </div>

                <!-- è³ªå•3: ãƒªã‚¹ã‚¯ -->
                <div class="question-group">
                    <label class="question-label">â“ ãƒªã‚¹ã‚¯è¨±å®¹åº¦ã¯ï¼Ÿ</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="risk" value="é«˜">
                            <span>é«˜ï¼ˆå¤±æ•—OKã€å­¦ã³ãŒé‡è¦ï¼‰</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="risk" value="ä¸­">
                            <span>ä¸­ï¼ˆä¸€å®šã®æˆæœãŒå¿…è¦ï¼‰</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="risk" value="ä½">
                            <span>ä½ï¼ˆç¢ºå®Ÿã«æˆæœã‚’å‡ºã™å¿…è¦ï¼‰</span>
                        </label>
                    </div>
                </div>

                <!-- è³ªå•4: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« -->
                <div class="question-group">
                    <label class="question-label">â“ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ï¼Ÿ</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="schedule" value="æ€¥ã">
                            <span>æ€¥ãï¼ˆ3ãƒ¶æœˆä»¥å†…ï¼‰</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="schedule" value="é€šå¸¸">
                            <span>é€šå¸¸ï¼ˆ6ãƒ¶æœˆï¼‰</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="schedule" value="é•·æœŸ">
                            <span>é•·æœŸï¼ˆ1å¹´ä»¥ä¸Šï¼‰</span>
                        </label>
                    </div>
                </div>

                <!-- è³ªå•5: å†…è£½åŒ– -->
                <div class="question-group">
                    <label class="question-label">â“ å†…è£½åŒ–ã®æ„å›³ã¯ï¼Ÿ</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="internal" value="å®Œå…¨å¤–æ³¨">
                            <span>å®Œå…¨å¤–æ³¨</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="internal" value="å°†æ¥å†…è£½åŒ–">
                            <span>å°†æ¥çš„ã«å†…è£½åŒ–</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="internal" value="å†…è£½åŒ–å‰æ">
                            <span>æœ€åˆã‹ã‚‰å†…è£½åŒ–å‰æ</span>
                        </label>
                    </div>
                </div>

                <!-- ãƒœã‚¿ãƒ³ -->
                <div class="guide-buttons">
                    <button class="btn-guided-search" onclick="handleGuidedSearch()" id="guidedSearchBtn">
                        ãŠã™ã™ã‚ãƒ™ãƒ³ãƒ€ãƒ¼ã‚’æ¢ã™
                    </button>
                    <button class="btn-reset" onclick="handleReset()">
                        ãƒªã‚»ãƒƒãƒˆ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // çŠ¶æ…‹ç®¡ç†
        let currentState = {
            searchMode: null, // 'free' or 'guided'
            loading: false,
            results: [],
            guidedCriteria: {}
        };

        // ãƒ•ãƒªãƒ¼æ¤œç´¢
        async function handleFreeSearch() {
            const query = document.getElementById('searchInput').value;
            const company = document.getElementById('companySelect').value;
            if (!query.trim()) {
                alert('æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            currentState.searchMode = 'free';
            currentState.loading = true;
            showLoading();

            // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã§æ¤œç´¢çµæœã‚’è¡¨ç¤ºï¼ˆå®Ÿéš›ã¯APIã‚³ãƒ¼ãƒ«ï¼‰
            setTimeout(() => {
                currentState.results = getMockFreeSearchResults(query, company);
                currentState.loading = false;
                renderResults();
            }, 500);
        }

        // ã‚¬ã‚¤ãƒ‰æ¤œç´¢
        async function handleGuidedSearch() {
            const criteria = getGuidedCriteria();
            
            if (!hasSelection(criteria)) {
                alert('å°‘ãªãã¨ã‚‚1ã¤ã®è³ªå•ã«å›ç­”ã—ã¦ãã ã•ã„');
                return;
            }

            currentState.searchMode = 'guided';
            currentState.guidedCriteria = criteria;
            currentState.loading = true;
            showLoading();

            // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã§æ¤œç´¢çµæœã‚’è¡¨ç¤ºï¼ˆå®Ÿéš›ã¯APIã‚³ãƒ¼ãƒ«ï¼‰
            setTimeout(() => {
                currentState.results = getMockGuidedSearchResults(criteria);
                currentState.loading = false;
                renderResults();
            }, 500);
        }

        // ãƒªã‚»ãƒƒãƒˆ
        function handleReset() {
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            document.getElementById('searchInput').value = '';
            document.getElementById('companySelect').value = '';
            
            currentState = {
                searchMode: null,
                loading: false,
                results: [],
                guidedCriteria: {}
            };
            showEmptyState();
        }

        // ã‚¬ã‚¤ãƒ‰æ¤œç´¢ã®æ¡ä»¶ã‚’å–å¾—
        function getGuidedCriteria() {
            return {
                purpose: getSelectedRadio('purpose'),
                budget: getSelectedRadio('budget'),
                risk: getSelectedRadio('risk'),
                schedule: getSelectedRadio('schedule'),
                internal: getSelectedRadio('internal')
            };
        }

        function getSelectedRadio(name) {
            const selected = document.querySelector(`input[name="${name}"]:checked`);
            return selected ? selected.value : null;
        }

        function hasSelection(criteria) {
            return Object.values(criteria).some(v => v !== null);
        }

        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
        function showLoading() {
            const resultsArea = document.getElementById('resultsArea');
            resultsArea.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
        }

        // ç©ºçŠ¶æ…‹è¡¨ç¤º
        function showEmptyState() {
            const resultsArea = document.getElementById('resultsArea');
            resultsArea.innerHTML = `
                <div class="empty-state">
                    <p>æ¤œç´¢çµæœãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                    <p>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚</p>
                </div>
            `;
        }

        // æ¤œç´¢çµæœãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        function renderResults() {
            const resultsArea = document.getElementById('resultsArea');
            
            if (currentState.results.length === 0) {
                resultsArea.innerHTML = `
                    <div class="empty-state">
                        <p>æ¤œç´¢çµæœãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
                        <p>æ¡ä»¶ã‚’å¤‰æ›´ã—ã¦å†åº¦æ¤œç´¢ã—ã¦ãã ã•ã„ã€‚</p>
                    </div>
                `;
                return;
            }

            let html = '';
            // ã‚¬ã‚¤ãƒ‰æ¤œç´¢ã®å ´åˆã¯ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¡¨ç¤º
            if (currentState.searchMode === 'guided') {
                html += renderGuidedHeader();
            }

            // æ¤œç´¢çµæœã‚«ãƒ¼ãƒ‰
            currentState.results.forEach((result, index) => {
                html += renderVendorCard(result, index + 1);
            });

            resultsArea.innerHTML = html;
        }

        // ã‚¬ã‚¤ãƒ‰æ¤œç´¢ãƒ˜ãƒƒãƒ€ãƒ¼
        function renderGuidedHeader() {
            const criteria = currentState.guidedCriteria;
            let items = '';
            
            if (criteria.purpose) items += `<li>â€¢ ç›®çš„: ${criteria.purpose}</li>`;
            if (criteria.budget) items += `<li>â€¢ äºˆç®—: ${criteria.budget}</li>`;
            if (criteria.schedule) items += `<li>â€¢ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: ${criteria.schedule}</li>`;
            return `
                <div class="guided-header">
                    <h3>ğŸ¯ ã‚ãªãŸã«ãŠã™ã™ã‚ã®ãƒ™ãƒ³ãƒ€ãƒ¼</h3>
                    <ul>${items}</ul>
                </div>
            `;
        }

        // ãƒ™ãƒ³ãƒ€ãƒ¼ã‚«ãƒ¼ãƒ‰
        function renderVendorCard(result, rank) {
            const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
            const showRank = currentState.searchMode === 'guided' && rank <= 3;
            const medal = showRank ? medals[rank - 1] : '';
            const score = currentState.searchMode === 'guided' ? Math.round(result.score * 100) : null;

            return `
                <div class="vendor-card">
                    <div class="vendor-header">
                        <div class="vendor-title">
                            ${medal ? `<span class="rank-badge">${medal}</span>` : ''}
                            <h3>ğŸ¢ ${result.company}</h3>
                        </div>
                        ${score ? `<span class="score-badge">é©åˆåº¦: ${score}%</span>` : ''}
                    </div>
                    <div class="vendor-meta">
                        ${result.specialty ? `<p><span class="label">å¾—æ„åˆ†é‡:</span> ${result.specialty}</p>` : ''}
                        ${result.rate ? `<p><span class="label">äººæœˆå˜ä¾¡:</span> ${result.rate}</p>` : ''}
                    </div>
                    <div class="vendor-text">
                        ${result.text}
                    </div>
                    <div class="vendor-actions">
                        <button class="btn-detail">è©³ç´°ã‚’è¦‹ã‚‹</button>
                        <button class="btn-contact">å•ã„åˆã‚ã›</button>
                    </div>
                </div>
            `;
        }

        // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
        function getMockFreeSearchResults(query, company) {
            const companies = [
                'Akari', 'Acrosstudio', 'Araya', 'BrainPad', 'Eriza',
                'Fusic', 'LaboroAI', 'LiberCraft', 'LightBlue', 'NUCO',
                'TANREN', 'Weel', 'ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰'
            ];

            const filtered = company 
                ? companies.filter(c => c === company)
                : companies.slice(0, 5);

            return filtered.map(comp => ({
                company: comp,
                specialty: 'AIé–‹ç™ºãƒ»æ©Ÿæ¢°å­¦ç¿’',
                rate: '80-120ä¸‡å††/äººæœˆ',
                text: `${query}ã«é–¢ã™ã‚‹${comp}ã®ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã®æ¤œç´¢çµæœã§ã™ã€‚å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿç¸¾ã‚„æŠ€è¡“çš„ãªçŸ¥è¦‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚`
            }));
        }

        function getMockGuidedSearchResults(criteria) {
            const companies = ['Akari', 'BrainPad', 'LaboroAI', 'LiberCraft', 'NUCO'];
            return companies.map((comp, index) => ({
                company: comp,
                specialty: 'AIé–‹ç™ºãƒ»æ©Ÿæ¢°å­¦ç¿’',
                rate: '80-120ä¸‡å††/äººæœˆ',
                text: `${comp}ã¯ã€${criteria.purpose || 'æ§˜ã€…ãª'}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¼·ã¿ã‚’æŒã£ã¦ã„ã¾ã™ã€‚`,
                score: 0.95 - index * 0.1
            }));
        }

        // Enterã‚­ãƒ¼ã§æ¤œç´¢
        document.getElementById('searchInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                handleFreeSearch();
            }
        });
    </script>
</body>
</html>
